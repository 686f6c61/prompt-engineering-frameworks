{% extends "base.html" %}

{% block content %}
<div class="container">
    <!-- Header principal -->
    <div class="text-center my-5">
        <h1 class="display-4 mb-3">Prompt Engineering con +75 Frameworks</h1>
        <p class="lead text-muted">Selecciona el framework más adecuado para crear prompts efectivos y profesionales.</p>
        
        <!-- Indicador del modelo actual -->
        <div class="mt-3">
            <span class="badge {% if is_custom %}bg-warning text-dark{% else %}bg-success{% endif %} p-2">
                <i class="bi {% if is_custom %}bi-stars{% else %}bi-lightning{% endif %} me-1"></i>
                Usando Familia OpenAI 4o
                {% if is_custom %}(API Key personalizada){% else %}(Gratis){% endif %}
            </span>
            <a href="/configuracion" class="badge bg-primary p-2 text-decoration-none ms-2">
                <i class="bi bi-gear me-1"></i>
                Cambiar modelo
            </a>
        </div>
    </div>

    <!-- Search Form -->
    <div class="row mb-5">
        <div class="col-12 col-md-10 col-lg-8 mx-auto">
            <!-- Contenedor para mostrar información de uso -->
            <div id="usage-info-container" class="mb-3"></div>
            
            <div class="search-container p-3 bg-light rounded">
                <h4 class="text-center mb-2">Describe o define tu objetivo</h4>
                <p class="text-muted text-center mb-3">Encontraremos el mejor Framework para tu Prompt entre los +63 que tenemos disponibles.</p>
                <div class="d-flex flex-column flex-md-row align-items-stretch gap-3">
                    <input type="text" id="framework-search" class="form-control form-control-lg" placeholder="Describe tu objetivo para encontrar el mejor framework" aria-label="Buscar objetivo para framework">
                    <button id="search-btn" class="btn btn-primary btn-lg mt-2 mt-md-0 d-flex align-items-center gap-2" aria-label="Buscar framework">
                        <i class="bi bi-search"></i>
                        Buscar Framework
                    </button>
                </div>
                <div id="recommendation-container" class="mt-3 d-none">
                    <div class="alert alert-info">
                        <h5 class="alert-heading">Framework Recomendado:</h5>
                        <p id="recommended-framework" class="mb-2 fw-bold"></p>
                        <hr>
                        <p class="mb-2"><strong>¿Por qué este framework?</strong></p>
                        <p id="recommendation-reason" class="mb-3"></p>
                        <p class="mb-2"><strong>Ejemplo de uso:</strong></p>
                        <div id="recommendation-example" class="bg-white p-3 rounded"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bolt/Lovable Banner -->
    <div class="banner-container mb-5">
        <div class="col-12 col-md-10 col-lg-8 mx-auto">
            <div class="banner bg-light-blue p-4 rounded">
                <div class="d-flex align-items-center">
                    <div class="flex-grow-1">
                        <h3 class="mb-2">⚡❤️ <a href="https://bolt.new" target="_blank" class="text-primary text-decoration-none">Bolt</a> / <a href="https://lovable.dev/?via=prompt-agent" target="_blank" class="text-danger text-decoration-none">Lovable</a></h3>
                        <p class="mb-0">Crea descripciones detalladas para proyectos web en plataformas Bolt/Lovable.</p>
                    </div>
                    <div class="ms-3">
                        <a href="/bolt-lovable" class="btn btn-primary">Probar ahora</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .bg-light-blue {
            background-color: #e8f0fe;
        }
        
        /* Estilos para uniformar el tamaño de las tarjetas */
        .framework-card .card-body {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 1rem;
        }
        
        .framework-card .card-text {
            flex-grow: 1;
            margin-bottom: 0.5rem;
        }
        
        .explanation-text {
            margin-bottom: 8px;
        }
        
        .card-actions {
            margin-top: auto;
            padding-top: 0.5rem;
        }
        
        .framework-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .framework-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
    </style>

    <h2 class="text-center mb-4">Elige entre los +75 framework para desarrollar tu prompting</h2>
    <p class="text-center text-muted mb-4">Haz clic en el framework que quieres usar. Podrás ver ejemplos en cada uno de ellos.</p>
    
    <!-- Organización por categorías -->
    
    <!-- Categoría 1: Ideación y descubrimiento -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-lightbulb me-2 text-warning"></i>Ideación y descubrimiento</h3>
        <p class="text-muted mb-3">Para explorar ideas de producto, investigación de mercado y definición de problemas</p>
        <div class="row">
            {% set frameworks_cat1 = [
                ('quest', 'Q-U-E-S-T', 'Metodología estructurada que guía desde la formulación de preguntas hasta la validación de soluciones, facilitando la exploración sistemática de ideas.', 'Para explorar ideas de producto y definir problemas'),
                ('think', 'T-H-I-N-K', 'Método que organiza el pensamiento a través de la contextualización histórica y extracción de insights, promoviendo un análisis profundo y planificación de próximos pasos.', 'Para análisis estratégico y exploración de ideas'),
                ('design', 'D-E-S-I-G-N', 'Proceso completo de diseño que abarca desde la definición inicial hasta la reducción y refinamiento, permitiendo innovar con dirección clara.', 'Para procesos de diseño y conceptualización'),
                ('vision', 'V-I-S-I-O-N', 'Sistema para transformar ideas abstractas en planes concretos, integrando visualización, identificación de oportunidades y navegación de obstáculos.', 'Para planificación estratégica y visión de producto'),
                ('grow', 'G-R-O-W', 'Enfoque de coaching que explora la realidad actual, posibilidades disponibles y caminos a seguir para alcanzar objetivos definidos.', 'Para coaching y desarrollo de ideas')
            ] %}
            {% for framework in frameworks_cat1 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 2: Especificación y planificación -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-clipboard-check me-2 text-success"></i>Especificación y planificación</h3>
        <p class="text-muted mb-3">Para definir requisitos del producto, establecer objetivos medibles y planificar sprints</p>
        <div class="row">
            {% set frameworks_cat2 = [
                ('code', 'C-O-D-E', 'Sistema que comunica instrucciones técnicas con claridad al contextualizar objetivos, detallar especificaciones y proporcionar ejemplos concretos de implementación.', 'Para documentación y especificaciones'),
                ('clarity', 'C-L-A-R-I-T-Y', 'Enfoque exhaustivo para planificar proyectos que considera limitaciones existentes, aproximaciones metodológicas y cronogramas detallados de implementación.', 'Para planificación detallada de proyectos'),
                ('scope', 'S-C-O-P-E', 'Método para delimitar alcance que identifica la situación actual, necesidades centrales y obstáculos para desarrollar planes realistas y evaluables.', 'Para definición de alcance'),
                ('smart', 'S-M-A-R-T', 'Sistema de definición de objetivos que asegura que sean concretos, cuantificables, realizables, relevantes y con plazos específicos.', 'Para establecer objetivos claros y medibles'),
                ('5w2h', '5W2H', 'Estructura de planificación que responde a las preguntas fundamentales (qué, por qué, dónde, cuándo, quién, cómo y cuánto) para definir completamente un proyecto.', 'Para detallar planes de acción'),
                ('okr', 'O-K-R', 'Metodología para definir objetivos ambiciosos y resultados clave medibles, facilitando la alineación y seguimiento de metas organizacionales.', 'Para establecer metas ambiciosas y medibles')
            ] %}
            {% for framework in frameworks_cat2 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 3: Desarrollo y construcción -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-tools me-2 text-primary"></i>Desarrollo y construcción</h3>
        <p class="text-muted mb-3">Para guiar el desarrollo, comunicarse con equipos técnicos y documentar soluciones</p>
        <div class="row">
            {% set frameworks_cat3 = [
                ('build', 'B-U-I-L-D', 'Proceso evolutivo para desarrollo de producto que establece una línea base, promueve la comprensión profunda y facilita el aprendizaje iterativo.', 'Para desarrollo de nuevos productos'),
                ('rtf', 'R-T-F', 'Estructura que clarifica expectativas al definir el rol responsable, la tarea específica a realizar y el formato esperado del entregable.', 'Para definir tareas con roles claros'),
                ('tag', 'T-A-G', 'Metodología orientada a resultados que especifica la tarea concreta, acciones necesarias y metas medibles para evaluar el éxito.', 'Para proyectos con objetivos medibles'),
                ('adapt', 'A-D-A-P-T', 'Enfoque ágil que integra análisis inicial, diseño flexible y pruebas continuas para adaptarse a cambios durante el desarrollo.', 'Para proyectos adaptativos y ágiles'),
                ('focus', 'F-O-C-U-S', 'Técnica para abordar problemas complejos definiendo el marco contextual, objetivos claros y soluciones considerando las restricciones existentes.', 'Para análisis de problemas'),
                ('raci', 'R-A-C-I', 'Sistema de asignación de responsabilidades que identifica quién es responsable, debe rendir cuentas, ser consultado e informado en cada tarea.', 'Para definir responsabilidades en proyectos')
            ] %}
            {% for framework in frameworks_cat3 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 4: Testing y validación -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-check2-circle me-2 text-info"></i>Testing y validación</h3>
        <p class="text-muted mb-3">Para evaluar prototipos, priorizar mejoras y estructurar feedback</p>
        <div class="row">
            {% set frameworks_cat4 = [
                ('care', 'C-A-R-E', 'Método que proporciona contexto completo de una situación, especifica acciones a tomar, resultados esperados y ejemplos ilustrativos para mayor claridad.', 'Para proyectos que requieren contexto completo'),
                ('ice', 'I-C-E', 'Sistema de puntuación para priorizar funcionalidades basado en su impacto potencial, nivel de confianza en el éxito y facilidad de implementación.', 'Para priorización ágil y growth hacking'),
                ('rice', 'R-I-C-E', 'Método cuantitativo de priorización que evalúa alcance, impacto, confianza y esfuerzo para asignar valores numéricos a distintas opciones.', 'Para priorizar funcionalidades o proyectos'),
                ('solve', 'S-O-L-V-E', 'Proceso estructurado para resolver problemas complejos analizando la situación, evaluando opciones dentro de limitaciones y verificando soluciones.', 'Para resolución de problemas complejos'),
                ('pdca', 'P-D-C-A', 'Ciclo iterativo de mejora continua que consiste en planificar acciones, implementarlas, verificar resultados y actuar en consecuencia.', 'Para optimización de procesos')
            ] %}
            {% for framework in frameworks_cat4 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 5: Comunicación y lanzamiento -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-megaphone me-2 text-danger"></i>Comunicación y lanzamiento</h3>
        <p class="text-muted mb-3">Para marketing de producto, comunicación con usuarios y pitch de lanzamiento</p>
        <div class="row">
            {% set frameworks_cat5 = [
                ('peas', 'P-E-A-S', 'Estrategia de comunicación que alinea el propósito del mensaje con resultados deseados, perfil de audiencia y estilo adecuado de presentación.', 'Para estrategias de comunicación'),
                ('aida', 'A-I-D-A', 'Modelo persuasivo que guía al receptor desde captar su atención, generar interés, despertar deseo hasta motivar la acción concreta.', 'Para crear contenido persuasivo'),
                ('4p', '4P', 'Estrategia integral de marketing que equilibra producto, precio, plaza (distribución) y promoción para maximizar el impacto en el mercado.', 'Para desarrollar estrategias de marketing'),
                ('impact', 'I-M-P-A-C-T', 'Sistema de comunicación estratégica que considera la intención, mensaje central, propósito y audiencia junto con canales y timing óptimos.', 'Para estrategias de comunicación'),
                ('star', 'S-T-A-R', 'Técnica narrativa para presentar logros describiendo la situación inicial, tarea asignada, acciones implementadas y resultados obtenidos.', 'Para documentar logros y experiencias')
            ] %}
            {% for framework in frameworks_cat5 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 6: Análisis estratégico -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-graph-up me-2 text-secondary"></i>Análisis estratégico</h3>
        <p class="text-muted mb-3">Para análisis de situación, toma de decisiones y planificación estratégica</p>
        <div class="row">
            {% set frameworks_cat6 = [
                ('swot', 'S-W-O-T', 'Herramienta de análisis que identifica fortalezas y debilidades internas junto con oportunidades y amenazas externas para evaluar posición estratégica.', 'Para análisis estratégico'),
                ('vmost', 'V-M-O-S-T', 'Sistema de alineación organizacional que conecta visión de largo plazo con misión, objetivos concretos, estrategias y tácticas operativas.', 'Para alineación estratégica'),
                ('mece', 'M-E-C-E', 'Principio analítico que garantiza categorías mutuamente excluyentes (sin solapamiento) y colectivamente exhaustivas (sin omisiones) para análisis rigurosos.', 'Para estructurar análisis completos'),
                ('ooda', 'O-O-D-A', 'Ciclo de decisión que optimiza respuestas rápidas a través de observación de datos, orientación contextual, decisión informada y acción inmediata.', 'Para respuesta rápida'),
                ('para', 'P-A-R-A', 'Metodología de resolución de problemas que articula el problema claramente, propone un enfoque estratégico con razones fundamentadas y establece un plan concreto.', 'Para solución de problemas'),
                ('power', 'P-O-W-E-R', 'Proceso estructurado que define el problema, visualiza resultados deseados, explica el por qué de la solución y planifica ejecución con recursos necesarios.', 'Para resolución de problemas'),
                ('spin', 'S-P-I-N', 'Técnica de venta consultiva que explora situación actual, identifica problemas, analiza implicaciones y guía hacia la necesidad de una solución.', 'Para ventas y negociación'),
                ('master', 'M-A-S-T-E-R', 'Sistema integral de gestión que establece misión del proyecto, define aproximación metodológica y coordina estrategia, tácticas y procesos de revisión.', 'Para gestión de proyectos')
            ] %}
            {% for framework in frameworks_cat6 %}
            <div class="col-md-3 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length }}</span>
                        </div>
                        <p class="card-text small explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text small"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 7: Gestión de proyectos -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-kanban me-2 text-info"></i>Gestión de proyectos</h3>
        <p class="text-muted mb-3">Para coordinar equipos, asignar responsabilidades y gestionar recursos</p>
        <div class="row">
            {% set frameworks_cat7 = [
                ('daci', 'D-A-C-I', 'Sistema de toma de decisiones que asigna roles específicos: driver que impulsa la decisión, approver que la autoriza, contributors que aportan y informed que deben estar informados.', 'Para clarificar roles en decisiones'),
                ('rasci', 'R-A-S-C-I', 'Extensión de RACI que añade el rol de soporte (Supportive) para identificar quienes proporcionan recursos o asistencia auxiliar al proyecto.', 'Para proyectos con múltiples roles'),
                ('adkar', 'A-D-K-A-R', 'Modelo de gestión del cambio que guía a individuos a través de awareness, desire, knowledge, ability y reinforcement para adoptar nuevas prácticas.', 'Para gestión del cambio'),
                ('6m', '6M', 'Método de análisis de causa raíz que examina factores de mano de obra, máquinas, materiales, métodos, mediciones y medio ambiente para identificar origen de problemas.', 'Para análisis de causa raíz'),
                ('heart', 'H-E-A-R-T', 'Framework de Google para evaluar experiencia de usuario midiendo felicidad, engagement, adopción, retención y éxito en tareas como indicadores clave.', 'Para medir experiencia de usuario'),
                ('leap', 'L-E-A-P', 'Sistema de planificación que define el nivel de partida, expectativas de resultados, enfoque metodológico y parámetros de evaluación.', 'Para planificación estratégica'),
                ('path', 'P-A-T-H', 'Método que establece el propósito fundamental, aproximación estratégica, objetivos concretos y horizonte temporal para alcanzar metas.', 'Para planificación estratégica'),
                ('learn', 'L-E-A-R-N', 'Enfoque educativo que adapta contenidos según nivel del usuario, su experiencia previa y recursos disponibles para crear rutas de aprendizaje personalizadas.', 'Para planes de formación')
            ] %}
            {% for framework in frameworks_cat7 %}
            <div class="col-md-3 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length }}</span>
                        </div>
                        <p class="card-text small explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text small"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 8: Frameworks especializados -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-gear-wide-connected me-2 text-dark"></i>Frameworks para desarrollo de productos</h3>
        <p class="text-muted mb-3">Para diseñar y desarrollar soluciones técnicas con enfoque estructurado</p>
        <div class="row">
            {% set frameworks_cat8 = [
                ('craft', 'C-R-A-F-T', 'Enfoque para soluciones a medida que integra el contexto específico, requisitos del cliente, aproximación metodológica y plan de pruebas personalizado.', 'Para soluciones a medida'),
                ('guide', 'G-U-I-D-E', 'Sistema de desarrollo orientado al usuario que define metas del producto, perfil de usuarios, plan de implementación y criterios de evaluación.', 'Para desarrollo de productos'),
                ('prime', 'P-R-I-M-E', 'Proceso de I+D que parte de la identificación del problema, investigación extensiva, implementación controlada, monitoreo continuo y evaluación rigurosa.', 'Para investigación y desarrollo'),
                ('logic', 'L-O-G-I-C', 'Framework de desarrollo estructurado que enlaza diseño conceptual con objetivos, directrices implementables, criterios de éxito y plan de ejecución.', 'Para desarrollo estructurado'),
                ('reach', 'R-E-A-C-H', 'Framework end-to-end que define requisitos iniciales, evalúa opciones, implementa aproximaciones óptimas y gestiona completitud y entrega final.', 'Para gestión end-to-end'),
                ('expert', 'E-X-P-E-R-T', 'Metodología para documentación técnica que combina experiencia especializada, contextualización del problema y plan detallado de implementación y pruebas.', 'Para documentación técnica'),
                ('drive', 'D-R-I-V-E', 'Sistema para gestionar proyectos innovadores estableciendo dirección clara, asignando recursos, implementando soluciones, validando resultados y planificando evolución.', 'Para proyectos innovadores'),
                ('blend', 'B-L-E-N-D', 'Metodología mixta que establece una base sólida, fomenta aprendizaje continuo, adaptación evolutiva y procesos de navegación y entrega eficientes.', 'Para metodologías mixtas')
            ] %}
            {% for framework in frameworks_cat8 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length + frameworks_cat7|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 9: Comunicación y presentación -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-chat-dots me-2 text-success"></i>Frameworks de comunicación y presentación</h3>
        <p class="text-muted mb-3">Para estructurar comunicaciones efectivas y presentaciones persuasivas</p>
        <div class="row">
            {% set frameworks_cat9 = [
                ('fast', 'F-A-S-T', 'Estrategia comunicativa que adapta el enfoque del mensaje, perfil de audiencia, alcance de contenido y tono de comunicación según objetivos.', 'Para estrategias de comunicación'),
                ('scqa', 'S-C-Q-A', 'Método de comunicación estructurada que presenta la situación actual, introduce la complicación o problema, plantea la pregunta clave y ofrece una respuesta o solución.', 'Para comunicación persuasiva y presentaciones'),
                ('qcqa', 'Q-C-Q-A', 'Estructura para consultas efectivas que articula la pregunta específica, proporciona contexto relevante, establece cualificaciones del respondiente y formato de respuesta deseado.', 'Para consultas estructuradas'),
                ('fab', 'F-A-B', 'Estrategia de marketing que presenta características técnicas, articula sus ventajas comparativas y comunica los beneficios concretos para el usuario.', 'Para marketing y comunicación de producto'),
                ('clear', 'C-L-E-A-R', 'Metodología de comunicación efectiva que establece conexión, fomenta escucha activa, promueve exploración profunda, define acciones concretas y facilita reflexión posterior.', 'Para comunicación interpersonal y coaching'),
                ('bridge', 'B-R-I-D-G-E', 'Estructura de comunicación integral que proporciona antecedentes, explica razones, presenta información clave, detalla decisiones, define objetivos y establece criterios de evaluación.', 'Para comunicaciones corporativas y cambios organizacionales'),
                ('spqa', 'S-P-Q-A', 'Método de resolución de problemas que describe la situación actual, define el problema específico, formula preguntas clave y desarrolla respuestas accionables.', 'Para resolución estructurada de problemas'),
                ('pace', 'P-A-C-E', 'Metodología de toma de decisiones que considera el objetivo primario, evalúa alternativas disponibles, analiza consecuencias potenciales y examina el entorno operativo.', 'Para toma de decisiones complejas')
            ] %}
            {% for framework in frameworks_cat9 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length + frameworks_cat7|length + frameworks_cat8|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 10: Mejora continua y aprendizaje -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-graph-up-arrow me-2 text-info"></i>Frameworks de mejora continua y aprendizaje</h3>
        <p class="text-muted mb-3">Para optimizar procesos, promover mejora continua y aprendizaje</p>
        <div class="row">
            {% set frameworks_cat10 = [
                ('idea', 'I-D-E-A', 'Proceso de mejora que comienza identificando oportunidades, define soluciones específicas, ejecuta cambios planificados y evalúa resultados obtenidos.', 'Para procesos de mejora'),
                ('pulse', 'P-U-L-S-E', 'Metodología de mejora continua que define propósito, facilita comprensión contextual, promueve aprendizaje iterativo y estrategias de evaluación.', 'Para mejora continua'),
                ('gear', 'G-E-A-R', 'Ciclo de mejora que establece el objetivo deseado, ejecuta el plan de acción, evalúa los resultados obtenidos y reflexiona sobre el proceso completo.', 'Para mejora continua y ciclos de aprendizaje'),
                ('aor', 'A-O-R', 'Sistema de aprendizaje que documenta acciones implementadas, analiza resultados obtenidos y promueve reflexión sobre lecciones aprendidas.', 'Para aprendizaje experiencial y mejora'),
                ('scale', 'S-C-A-L-E', 'Metodología de crecimiento que equilibra estrategia, desarrollo de capacidades, implementación de acciones, aprendizaje continuo y evolución adaptativa.', 'Para escalamiento de proyectos'),
                ('spark', 'S-P-A-R-K', 'Sistema para innovación que integra estrategia, planificación detallada, implementación de acciones, evaluación de resultados y gestión del conocimiento.', 'Para iniciativas de innovación'),
                ('soar', 'S-O-A-R', 'Enfoque estratégico positivo que identifica fortalezas existentes, analiza oportunidades disponibles, define aspiraciones compartidas y establece resultados medibles.', 'Para planificación estratégica positiva')
            ] %}
            {% for framework in frameworks_cat10 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length + frameworks_cat7|length + frameworks_cat8|length + frameworks_cat9|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 11: Gestión de equipos y roles -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-people me-2 text-warning"></i>Frameworks de gestión de equipos y roles</h3>
        <p class="text-muted mb-3">Para definir roles, estructurar equipos y coordinar trabajo colaborativo</p>
        <div class="row">
            {% set frameworks_cat11 = [
                ('erq', 'E-R-Q', 'Sistema para definir perfiles profesionales que detalla experiencia necesaria, requisitos técnicos específicos y cualificaciones adicionales valoradas.', 'Para definir roles y requisitos'),
                ('team', 'T-E-A-M', 'Estructura para trabajo colaborativo que clarifica la tarea común, entorno de trabajo, aproximación metodológica y métricas de evaluación.', 'Para proyectos colaborativos'),
                ('pros', 'P-R-O-S', 'Metodología que establece la perspectiva del proyecto, requisitos fundamentales, resultados esperados y alcance definido de implementación.', 'Para definición y alcance'),
                ('rise', 'R-I-S-E', 'Sistema para procesos paso a paso que define el rol responsable, entradas necesarias, secuencia detallada de pasos y expectativas de resultados.', 'Para procesos paso a paso'),
                ('tar', 'T-A-R', 'Estructura de análisis conductual que identifica el disparador o estímulo, define la acción o comportamiento resultante y evalúa los resultados o consecuencias.', 'Para análisis conductual y cambio de hábitos')
            ] %}
            {% for framework in frameworks_cat11 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length + frameworks_cat7|length + frameworks_cat8|length + frameworks_cat9|length + frameworks_cat10|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 12: Gestión del cambio y transformación -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-arrow-repeat me-2 text-danger"></i>Frameworks de transformación y cambio</h3>
        <p class="text-muted mb-3">Para facilitar transiciones y gestionar procesos de cambio organizacional</p>
        <div class="row">
            {% set frameworks_cat12 = [
                ('bab', 'B-A-B', 'Técnica narrativa para escenarios de transformación que contrasta situación anterior, estado posterior deseado y establece puente estratégico entre ambos.', 'Para mostrar cambios y mejoras'),
                ('shape', 'S-H-A-P-E', 'Proceso de transformación que analiza la situación actual, proporciona contexto histórico y desarrolla plan analítico para implementar cambios organizacionales.', 'Para transformación organizacional'),
                ('cft', 'C-F-T', 'Sistema de transformación que establece el contexto completo, define el foco específico de cambio y detalla el proceso de transformación deseado.', 'Para gestión del cambio y transformaciones'),
                ('sara', 'S-A-R-A', 'Modelo de gestión emocional del cambio que reconoce las fases de shock inicial, enojo o resistencia, adaptación progresiva y aceptación final.', 'Para gestión del cambio y transiciones')
            ] %}
            {% for framework in frameworks_cat12 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length + frameworks_cat7|length + frameworks_cat8|length + frameworks_cat9|length + frameworks_cat10|length + frameworks_cat11|length }}</span>
                        </div>
                        <p class="card-text explanation-text"><strong>Explicación:</strong> {{ framework[2] }}</p>
                        <p class="card-text"><strong>Ideal para:</strong> {{ framework[3] }}</p>
                        <div class="card-actions">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="form-container mb-4">
        <form id="framework-form" autocomplete="off">
            <div id="form-fields" class="fade-in">
                <p class="text-center text-muted">Selecciona un framework para comenzar</p>
            </div>
        </form>
    </div>

    <div class="text-center mb-4 mt-4 d-flex flex-column flex-md-row justify-content-center gap-3">
        <button id="generate-btn" class="btn btn-primary px-4 py-2 btn-lg d-flex align-items-center justify-content-center gap-2" aria-label="Generar prompt">
            <i class="bi bi-magic"></i>
            Generar Prompt
        </button>
    </div>

    <div class="prompt-preview mt-4 mx-auto">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="mb-0">Prompt generado</h5>
            <span>Tokens: <span id="token-count" class="token-counter">0</span>/<span id="max-tokens">4000</span></span>
        </div>
        <div class="prompt-content bg-white p-3 rounded border mb-3">
            <p id="prompt-preview" class="mb-0"></p>
        </div>
        <div class="copy-buttons d-flex flex-column flex-md-row gap-2 gap-md-3 justify-content-end align-items-center mt-2">
            <button id="copy-markdown-btn" class="btn btn-outline-primary d-flex align-items-center" aria-label="Copiar como Markdown">
                <i class="bi bi-markdown me-2"></i>
                Copiar Markdown
            </button>
            <button id="copy-formatted-btn" class="btn btn-outline-primary d-flex align-items-center" aria-label="Copiar formateado">
                <i class="bi bi-file-text me-2"></i>
                Copiar Formateado
            </button>
        </div>
    </div>

    <!-- Modal para ejemplos -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ejemplo de Framework</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Mensaje de confirmación de copiado dentro del modal -->
                    <div id="copy-confirmation" class="alert alert-success mb-3 d-none">
                        <i class="bi bi-check-circle me-2"></i>
                        <span>¡Ejemplo copiado con éxito!</span>
                    </div>
                    <pre id="framework-example" class="bg-light p-3 rounded"></pre>
                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <button id="copy-example-btn" type="button" class="btn btn-primary">
                        <i class="bi bi-clipboard me-2"></i>Copiar Ejemplo
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmación de copiado -->
    <div class="modal fade" id="copyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center py-4">
                    <i class="bi bi-check-circle text-success fs-1 mb-3"></i>
                    <p class="mb-0">¡Prompt copiado con éxito!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de anuncios -->
    <div class="modal fade" id="announcementModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="announcementTitle">Aviso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="announcementMessage"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Entendido</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Añadir el footer -->

{% endblock %}
