{% extends "base.html" %}

{% block content %}
<div class="container">
    <!-- Header principal -->
    <div class="text-center my-5">
        <h1 class="display-4 mb-3">Prompt Engineering con +63 Frameworks</h1>
        <p class="lead text-muted">Selecciona el framework más adecuado para crear prompts efectivos y profesionales.</p>
        
        <!-- Indicador del modelo actual -->
        <div class="mt-3">
            <span class="badge {% if is_custom %}bg-warning text-dark{% else %}bg-success{% endif %} p-2">
                <i class="bi {% if is_custom %}bi-stars{% else %}bi-lightning{% endif %} me-1"></i>
                Usando {{ current_model }}
                {% if is_custom %}(API Key personalizada){% else %}(Gratis){% endif %}
            </span>
            <a href="/configuracion" class="badge bg-primary p-2 text-decoration-none ms-2">
                <i class="bi bi-gear me-1"></i>
                Cambiar modelo
            </a>
        </div>
    </div>

    <!-- Search Form -->
    <div class="row mb-5">
        <div class="col-12 col-md-10 col-lg-8 mx-auto">
            <!-- Contenedor para mostrar información de uso -->
            <div id="usage-info-container" class="mb-3"></div>
            
            <div class="search-container p-3 bg-light rounded">
                <h4 class="text-center mb-2">Describe o define tu objetivo</h4>
                <p class="text-muted text-center mb-3">Encontraremos el mejor Framework para tu Prompt entre los +63 que tenemos disponibles.</p>
                <div class="d-flex flex-column flex-md-row align-items-stretch gap-3">
                    <input type="text" id="framework-search" class="form-control form-control-lg" placeholder="Describe tu objetivo para encontrar el mejor framework" aria-label="Buscar objetivo para framework">
                    <button id="search-btn" class="btn btn-primary btn-lg mt-2 mt-md-0 d-flex align-items-center gap-2" aria-label="Buscar framework">
                        <i class="bi bi-search"></i>
                        Buscar Framework
                    </button>
                </div>
                <div id="recommendation-container" class="mt-3 d-none">
                    <div class="alert alert-info">
                        <h5 class="alert-heading">Framework Recomendado:</h5>
                        <p id="recommended-framework" class="mb-2 fw-bold"></p>
                        <hr>
                        <p class="mb-2"><strong>¿Por qué este framework?</strong></p>
                        <p id="recommendation-reason" class="mb-3"></p>
                        <p class="mb-2"><strong>Ejemplo de uso:</strong></p>
                        <div id="recommendation-example" class="bg-white p-3 rounded"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bolt/Lovable Banner -->
    <div class="banner-container mb-5">
        <div class="col-12 col-md-10 col-lg-8 mx-auto">
            <div class="banner bg-light-blue p-4 rounded">
                <div class="d-flex align-items-center">
                    <div class="flex-grow-1">
                        <h3 class="mb-2">⚡❤️ <a href="https://bolt.new" target="_blank" class="text-primary text-decoration-none">Bolt</a> / <a href="https://lovable.dev/?via=prompt-agent" target="_blank" class="text-danger text-decoration-none">Lovable</a></h3>
                        <p class="mb-0">Crea descripciones detalladas para proyectos web en plataformas Bolt/Lovable.</p>
                    </div>
                    <div class="ms-3">
                        <a href="/bolt-lovable" class="btn btn-primary">Probar ahora</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .bg-light-blue {
            background-color: #e8f0fe;
        }
    </style>

    <h2 class="text-center mb-4">Elige entre los +63 framework para desarrollar tu prompting</h2>
    <p class="text-center text-muted mb-4">Haz clic en el framework que quieres usar. Podrás ver ejemplos en cada uno de ellos.</p>
    
    <!-- Organización por categorías -->
    
    <!-- Categoría 1: Ideación y descubrimiento -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-lightbulb me-2 text-warning"></i>Ideación y descubrimiento</h3>
        <p class="text-muted mb-3">Para explorar ideas de producto, investigación de mercado y definición de problemas</p>
        <div class="row">
            {% set frameworks_cat1 = [
                ('quest', 'Q-U-E-S-T', 'Framework pregunta-entendimiento-exploración-solución-pruebas para investigación y resolución de problemas', 'Para explorar ideas de producto y definir problemas'),
                ('think', 'T-H-I-N-K', 'Framework tema-historia-insights-siguientes pasos-conocimiento para análisis estratégico', 'Para análisis estratégico y exploración de ideas'),
                ('design', 'D-E-S-I-G-N', 'Framework definir-explorar-alcance-idear-guiar-reducir para diseño', 'Para procesos de diseño y conceptualización'),
                ('vision', 'V-I-S-I-O-N', 'Framework visualizar-identificar-estructurar-implementar-optimizar-navegar', 'Para planificación estratégica y visión de producto'),
                ('grow', 'G-R-O-W', 'Framework meta-realidad-opciones-camino para desarrollo personal', 'Para coaching y desarrollo de ideas')
            ] %}
            {% for framework in frameworks_cat1 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index }}</span>
                        </div>
                        <p class="card-text">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 2: Especificación y planificación -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-clipboard-check me-2 text-success"></i>Especificación y planificación</h3>
        <p class="text-muted mb-3">Para definir requisitos del producto, establecer objetivos medibles y planificar sprints</p>
        <div class="row">
            {% set frameworks_cat2 = [
                ('code', 'C-O-D-E', 'Framework contexto-objetivo-detalles-ejemplos para instrucciones claras', 'Para documentación y especificaciones'),
                ('clarity', 'C-L-A-R-I-T-Y', 'Framework contexto-limitaciones-aproximación-requisitos-implementación-cronograma-rendimiento', 'Para planificación detallada de proyectos'),
                ('scope', 'S-C-O-P-E', 'Framework situación-necesidad core-obstáculos-plan-evaluación', 'Para definición de alcance'),
                ('smart', 'S-M-A-R-T', 'Framework específico-medible-alcanzable-relevante-temporal para objetivos', 'Para establecer objetivos claros y medibles'),
                ('5w2h', '5W2H', 'Framework what-why-where-when-who-how-how much para planificación detallada', 'Para detallar planes de acción'),
                ('okr', 'O-K-R', 'Framework objectives and key results para definir y seguir objetivos', 'Para establecer metas ambiciosas y medibles')
            ] %}
            {% for framework in frameworks_cat2 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length }}</span>
                        </div>
                        <p class="card-text">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 3: Desarrollo y construcción -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-tools me-2 text-primary"></i>Desarrollo y construcción</h3>
        <p class="text-muted mb-3">Para guiar el desarrollo, comunicarse con equipos técnicos y documentar soluciones</p>
        <div class="row">
            {% set frameworks_cat3 = [
                ('build', 'B-U-I-L-D', 'Framework línea base-entendimiento-implementación-aprendizaje-entrega para desarrollo', 'Para desarrollo de nuevos productos'),
                ('rtf', 'R-T-F', 'Framework rol-tarea-formato para instrucciones claras basadas en roles', 'Para definir tareas con roles claros'),
                ('tag', 'T-A-G', 'Framework tarea-acción-meta para prompts orientados a objetivos', 'Para proyectos con objetivos medibles'),
                ('adapt', 'A-D-A-P-T', 'Framework análisis-diseño-aproximación-progreso-pruebas para proyectos ágiles', 'Para proyectos adaptativos y ágiles'),
                ('focus', 'F-O-C-U-S', 'Framework marco-objetivo-restricciones-comprensión-solución', 'Para análisis de problemas'),
                ('raci', 'R-A-C-I', 'Framework responsable-accountable-consultado-informado para asignar responsabilidades', 'Para definir responsabilidades en proyectos')
            ] %}
            {% for framework in frameworks_cat3 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length }}</span>
                        </div>
                        <p class="card-text">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 4: Testing y validación -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-check2-circle me-2 text-info"></i>Testing y validación</h3>
        <p class="text-muted mb-3">Para evaluar prototipos, priorizar mejoras y estructurar feedback</p>
        <div class="row">
            {% set frameworks_cat4 = [
                ('care', 'C-A-R-E', 'Framework contexto-acción-resultado-ejemplo para planificación detallada', 'Para proyectos que requieren contexto completo'),
                ('ice', 'I-C-E', 'Framework impact-confidence-ease para priorización rápida', 'Para priorización ágil y growth hacking'),
                ('rice', 'R-I-C-E', 'Framework reach-impact-confidence-effort para priorización cuantitativa', 'Para priorizar funcionalidades o proyectos'),
                ('solve', 'S-O-L-V-E', 'Framework situación-opciones-limitaciones-verificación-ejecución', 'Para resolución de problemas complejos'),
                ('pdca', 'P-D-C-A', 'Framework planificar-hacer-verificar-actuar para mejora continua', 'Para optimización de procesos')
            ] %}
            {% for framework in frameworks_cat4 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length }}</span>
                        </div>
                        <p class="card-text">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 5: Comunicación y lanzamiento -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-megaphone me-2 text-danger"></i>Comunicación y lanzamiento</h3>
        <p class="text-muted mb-3">Para marketing de producto, comunicación con usuarios y pitch de lanzamiento</p>
        <div class="row">
            {% set frameworks_cat5 = [
                ('peas', 'P-E-A-S', 'Framework propósito-resultado-audiencia-estilo para comunicación efectiva', 'Para estrategias de comunicación'),
                ('aida', 'A-I-D-A', 'Framework atención-interés-deseo-acción para marketing persuasivo', 'Para crear contenido persuasivo'),
                ('4p', '4P', 'Framework product-price-place-promotion (marketing mix)', 'Para desarrollar estrategias de marketing'),
                ('impact', 'I-M-P-A-C-T', 'Framework intención-mensaje-propósito-audiencia-canal-tiempo', 'Para estrategias de comunicación'),
                ('star', 'S-T-A-R', 'Framework situación-tarea-acción-resultado para casos de éxito', 'Para documentar logros y experiencias')
            ] %}
            {% for framework in frameworks_cat5 %}
            <div class="col-md-4 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length }}</span>
                        </div>
                        <p class="card-text">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Categoría 6: Análisis estratégico -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-graph-up me-2 text-secondary"></i>Análisis estratégico</h3>
        <p class="text-muted mb-3">Para análisis de situación, toma de decisiones y planificación estratégica</p>
        <div class="row">
            {% set frameworks_cat6 = [
                ('swot', 'S-W-O-T', 'Framework fortalezas-debilidades-oportunidades-amenazas', 'Para análisis estratégico'),
                ('vmost', 'V-M-O-S-T', 'Framework visión-misión-objetivos-estrategia-táctica', 'Para alineación estratégica'),
                ('mece', 'M-E-C-E', 'Principio mutuamente exclusivo, colectivamente exhaustivo para análisis', 'Para estructurar análisis completos'),
                ('ooda', 'O-O-D-A', 'Framework observar-orientar-decidir-actuar para ciclos de decisión', 'Para respuesta rápida'),
                ('para', 'P-A-R-A', 'Framework problema-enfoque-razón-plan para resolución estructurada', 'Para solución de problemas'),
                ('power', 'P-O-W-E-R', 'Framework problema-resultado-por qué-ejecución-recursos', 'Para resolución de problemas'),
                ('spin', 'S-P-I-N', 'Framework situación-problema-implicación-necesidad para ventas consultivas', 'Para ventas y negociación'),
                ('master', 'M-A-S-T-E-R', 'Framework misión-aproximación-estrategia-tácticas-ejecución-revisión', 'Para gestión de proyectos')
            ] %}
            {% for framework in frameworks_cat6 %}
            <div class="col-md-3 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length }}</span>
                        </div>
                        <p class="card-text small">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 7: Gestión de proyectos -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-kanban me-2 text-info"></i>Gestión de proyectos</h3>
        <p class="text-muted mb-3">Para coordinar equipos, asignar responsabilidades y gestionar recursos</p>
        <div class="row">
            {% set frameworks_cat7 = [
                ('daci', 'D-A-C-I', 'Framework driver-approver-contributor-informed para decisiones', 'Para clarificar roles en decisiones'),
                ('rasci', 'R-A-S-C-I', 'Variante de RACI con rol supportive', 'Para proyectos con múltiples roles'),
                ('adkar', 'A-D-K-A-R', 'Modelo awareness-desire-knowledge-ability-reinforcement', 'Para gestión del cambio'),
                ('6m', '6M', 'Framework man-machine-material-method-measurement-mother nature', 'Para análisis de causa raíz'),
                ('heart', 'H-E-A-R-T', 'Framework felicidad-compromiso-adopción-retención-éxito en tareas', 'Para medir experiencia de usuario'),
                ('leap', 'L-E-A-P', 'Framework nivel-expectativas-enfoque-parámetros para planificación', 'Para planificación estratégica'),
                ('path', 'P-A-T-H', 'Framework propósito-aproximación-objetivo-horizonte', 'Para planificación estratégica'),
                ('learn', 'L-E-A-R-N', 'Framework nivel-experiencia-aproximación-recursos-siguientes pasos', 'Para planes de formación')
            ] %}
            {% for framework in frameworks_cat7 %}
            <div class="col-md-3 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length }}</span>
                        </div>
                        <p class="card-text small">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Categoría 8: Frameworks especializados -->
    <div class="category-section mb-5">
        <h3 class="mb-3"><i class="bi bi-gear-wide-connected me-2 text-dark"></i>Frameworks especializados</h3>
        <p class="text-muted mb-3">Frameworks adicionales para casos de uso específicos y soluciones a medida</p>
        <div class="row">
            {% set frameworks_cat8 = [
                ('erq', 'E-R-Q', 'Framework experiencia-requisitos-calificadores para perfiles específicos', 'Para definir roles y requisitos'),
                ('pros', 'P-R-O-S', 'Framework perspectiva-requisitos-resultado-alcance para proyectos', 'Para definición y alcance'),
                ('team', 'T-E-A-M', 'Framework tarea-entorno-aproximación-métricas para trabajo en equipo', 'Para proyectos colaborativos'),
                ('idea', 'I-D-E-A', 'Framework identificar-definir-ejecutar-evaluar para solución de problemas', 'Para procesos de mejora'),
                ('fast', 'F-A-S-T', 'Framework enfoque-audiencia-alcance-tono para comunicación efectiva', 'Para estrategias de comunicación'),
                ('logic', 'L-O-G-I-C', 'Framework diseño-objetivo-directrices-implementación-criterios', 'Para desarrollo estructurado'),
                ('expert', 'E-X-P-E-R-T', 'Framework experiencia-contexto-propósito-ejecución-resultados-pruebas', 'Para documentación técnica'),
                ('guide', 'G-U-I-D-E', 'Framework meta-usuario-implementación-entrega-evaluación', 'Para desarrollo de productos'),
                ('prime', 'P-R-I-M-E', 'Framework problema-investigación-implementación-monitoreo-evaluación', 'Para investigación y desarrollo'),
                ('craft', 'C-R-A-F-T', 'Framework contexto-requisitos-aproximación-funcionalidades-pruebas', 'Para soluciones a medida'),
                ('scale', 'S-C-A-L-E', 'Framework estrategia-capacidades-acción-aprendizaje-evolución', 'Para escalamiento de proyectos'),
                ('drive', 'D-R-I-V-E', 'Framework dirección-recursos-implementación-validación-evolución', 'Para proyectos innovadores'),
                ('shape', 'S-H-A-P-E', 'Framework situación-historia-análisis-plan-ejecución', 'Para transformación organizacional'),
                ('reach', 'R-E-A-C-H', 'Framework requisitos-evaluación-aproximación-completitud-handover', 'Para gestión end-to-end'),
                ('blend', 'B-L-E-N-D', 'Framework base-aprendizaje-evolución-navegación-entrega', 'Para metodologías mixtas'),
                ('spark', 'S-P-A-R-K', 'Framework estrategia-planificación-acción-resultados-conocimiento', 'Para iniciativas de innovación'),
                ('pulse', 'P-U-L-S-E', 'Framework propósito-entendimiento-aprendizaje-estrategia-evaluación', 'Para mejora continua'),
                ('qcqa', 'Q-C-Q-A', 'Framework pregunta-contexto-calificación-respuesta', 'Para consultas estructuradas'),
                ('bab', 'B-A-B', 'Framework antes-después-puente para escenarios de transformación', 'Para mostrar cambios y mejoras'),
                ('rise', 'R-I-S-E', 'Framework rol-entrada-pasos-expectativa para tareas basadas en procesos', 'Para procesos paso a paso')
            ] %}
            {% for framework in frameworks_cat8 %}
            <div class="col-md-3 mb-3">
                <div class="card framework-card h-100" data-framework="{{ framework[0] }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ framework[3] }}">
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h5 class="card-title">{{ framework[1] }}</h5>
                            <span class="badge bg-light text-dark">{{ loop.index + frameworks_cat1|length + frameworks_cat2|length + frameworks_cat3|length + frameworks_cat4|length + frameworks_cat5|length + frameworks_cat6|length + frameworks_cat7|length }}</span>
                        </div>
                        <p class="card-text small">{{ framework[2] }}</p>
                        <div class="mt-auto">
                            <button class="btn btn-outline-primary btn-sm view-example-btn" data-framework="{{ framework[0] }}">
                                <i class="bi bi-eye"></i> Ver ejemplo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="form-container mb-4">
        <form id="framework-form" autocomplete="off">
            <div id="form-fields" class="fade-in">
                <p class="text-center text-muted">Selecciona un framework para comenzar</p>
            </div>
        </form>
    </div>

    <div class="text-center mb-4 mt-4 d-flex flex-column flex-md-row justify-content-center gap-3">
        <button id="generate-btn" class="btn btn-primary px-4 py-2 btn-lg d-flex align-items-center justify-content-center gap-2" aria-label="Generar prompt">
            <i class="bi bi-magic"></i>
            Generar Prompt
        </button>
    </div>

    <div class="prompt-preview mt-4 mx-auto">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="mb-0">Prompt generado</h5>
            <span>Tokens: <span id="token-count" class="token-counter">0</span>/3000</span>
        </div>
        <div class="prompt-content bg-white p-3 rounded border mb-3">
            <p id="prompt-preview" class="mb-0"></p>
        </div>
        <div class="copy-buttons d-flex flex-column flex-md-row gap-2 gap-md-3 justify-content-end align-items-center mt-2">
            <button id="copy-markdown-btn" class="btn btn-outline-primary d-flex align-items-center" aria-label="Copiar como Markdown">
                <i class="bi bi-markdown me-2"></i>
                Copiar Markdown
            </button>
            <button id="copy-formatted-btn" class="btn btn-outline-primary d-flex align-items-center" aria-label="Copiar formateado">
                <i class="bi bi-file-text me-2"></i>
                Copiar Formateado
            </button>
        </div>
    </div>

    <!-- Modal para ejemplos -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ejemplo de Framework</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Mensaje de confirmación de copiado dentro del modal -->
                    <div id="copy-confirmation" class="alert alert-success mb-3 d-none">
                        <i class="bi bi-check-circle me-2"></i>
                        <span>¡Ejemplo copiado con éxito!</span>
                    </div>
                    <pre id="framework-example" class="bg-light p-3 rounded"></pre>
                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <button id="copy-example-btn" type="button" class="btn btn-primary">
                        <i class="bi bi-clipboard me-2"></i>Copiar Ejemplo
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmación de copiado -->
    <div class="modal fade" id="copyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center py-4">
                    <i class="bi bi-check-circle text-success fs-1 mb-3"></i>
                    <p class="mb-0">¡Prompt copiado con éxito!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de anuncios -->
    <div class="modal fade" id="announcementModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="announcementTitle">Aviso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="announcementMessage"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Entendido</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Añadir el footer -->

{% endblock %}
